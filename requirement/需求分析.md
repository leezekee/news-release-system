# 需求分析

## 主编

### 个人信息维护

1. 登录

   * 地址：`/chiefEditor/login`
   * 方法：`POST`
   * 参数：

       | 参数名      | 类型     | 说明  |
       |----------|--------|-----|
       | username | String | 用户名 |
       | password | String | 密码  |
   
   * 返回值：

       | 参数名   | 类型     | 说明   |
       |-------|--------|------|
       | token | String | 令牌   |
   
2. 注册
   
   * 地址：`/chiefEditor/register`
   * 方法：`POST`
   * 参数：
   
     | 参数名      | 类型     | 说明  |
     |----------|--------|-----|
     | username | String | 用户名 |
     | password | String | 密码  |

   * 返回值：

      | 参数名   | 类型     | 说明   |
      |-------|--------|------|
      | token | String | 令牌   |

3. 修改个人信息

   * 地址：`/chiefEditor/info`

   * 方法：`PUT`

   * 参数：

     | 参数名                  | 类型    | 说明   |
     | ----------------------- | ------- | ------ |
     | id                      | Integer | 主编号 |
     | username（可选）        | String  | 用户名 |
     | password（可选）        | String  | 密码   |
     | age（可选）             | Integer | 年龄   |
     | gender（可选）          | String  | 性别   |
     | address（可选）         | String  | 地址   |
     | idCardNumber（可选）    | String  | 证件号 |
     | telephoneNumber（可选） | String  | 电话   |
     | email（可选）           | String  | 邮箱   |
     | introduction（可选）    | String  | 介绍   |

   * 返回值：

     无

4. 获取个人信息

   * 地址：`/chiefEditor/info/{id}`

   * 方法：`GET`

   * 参数：

     | 参数名 | 类型    | 说明   |
     | ------ | ------- | ------ |
     | id     | Integer | 主编号 |

   * 返回值：

     无

### 记者信息维护

1. 添加记者

   * 地址：`/journalist`

   * 方法：`POST`

   * 参数：

     | 参数名          | 类型    | 说明   |
     | --------------- | ------- | ------ |
     | username        | String  | 用户名 |
     | password        | String  | 密码   |
     | age             | Integer | 年龄   |
     | gender          | String  | 性别   |
     | address         | String  | 地址   |
     | idCardNumber    | String  | 证件号 |
     | telephoneNumber | String  | 电话   |
     | email           | String  | 邮箱   |
     | introduction    | String  | 介绍   |
     
   * 返回值：

     | 参数名 | 类型    | 说明     |
     | ------ | ------- | -------- |
     | id     | Integer | 记者编号 |

2. 删除记者

   * 地址：`/journalist`

   * 方法：`DELETE`

   * 参数：

     | 参数名 | 类型    | 说明     |
     | ------ | ------- | -------- |
     | id     | Integer | 记者编号 |
     
   * 返回值：

     无

3. 修改记者基本信息

   * 地址：`/journalist`

   * 方法：`PUT`

   * 参数：

     | 参数名                  | 类型    | 说明     |
     | ----------------------- | ------- | -------- |
     | id                      | Integer | 记者编号 |
     | username（可选）        | String  | 用户名   |
     | password（可选）        | String  | 密码     |
     | age（可选）             | Integer | 年龄     |
     | gender（可选）          | String  | 性别     |
     | address（可选）         | String  | 地址     |
     | idCardNumber（可选）    | String  | 证件号   |
     | telephoneNumber（可选） | String  | 电话     |
     | email（可选）           | String  | 邮箱     |
     | introduction（可选）    | String  | 介绍     |
   
   * 返回值：
   
     无
   
4. 查看记者基本信息

   * 地址：`/journalist/{id}`

   * 方法：`GET`

   * 参数：

     | 参数名 | 类型   | 说明     |
     | ------ | ------ | -------- |
     | id     | String | 记者编号 |
     
   * 返回值：

     | 参数名                  | 类型    | 说明     |
     | ----------------------- | ------- | -------- |
     | id              | Integer | 记者编号 |
     | username        | String  | 用户名   |
     | age             | Integer | 年龄     |
     | gender          | String  | 性别     |
     | address         | String  | 地址     |
     | idCardNumber    | String  | 证件号   |
     | telephoneNumber | String  | 电话     |
     | email           | String  | 邮箱     |
     | introduction    | String  | 介绍     |
   
5. 查看记者列表

   * 地址：`/journalist/all`

   * 方法：`GET`

   * 参数：

     无
     
   * 返回值：

     | 参数名        | 类型     | 说明         |
   | ------------- | -------- | ------------ |
     | list     | Array<{id,  name}> | 记者列表 |

### 新闻审核

1. 查看所有新闻

   * 地址：`/news/all`

   * 方法：`GET`

   * 参数：

     无
     
   * 返回值：

       | 参数名 | 类型                                      | 说明                                                       |
       | ------ | ----------------------------------------- | ---------------------------------------------------------- |
       | list   | Array<{id, journalistId, time,  imageId}> | 所有新闻列表（包含新闻id、所属记者、新闻题目、时间、图片） |

2. 查看待审核列表

   * 地址：`/news/unreview`

   * 方法：`GET`

   * 参数：

     无
     
   * 返回值：
   
       | 参数名 | 类型                                      | 说明                                                         |
       | ------ | ----------------------------------------- | ------------------------------------------------------------ |
       | list   | Array<{id, journalistId, time,  imageId}> | 待审核新闻列表（包含新闻id、所属记者、新闻题目、时间、图片） |

3. 审核

   * 地址：`/news/review`

   * 方法：`PUT`

   * 参数：

     | 参数名                | 类型    | 说明                                                   |
     | --------------------- | ------- | ------------------------------------------------------ |
     | id                    | Integer | 新闻id                                                 |
     | status（可选）        | Integer | 新闻是否发布（1为审核通过，-1为审核不通过，0为审核中） |
     | reviewComment（可选） | String  | 审核意见（审核通过无需）                               |
     
   * 返回值：

     无


## 记者

### 个人信息维护

1. 登录

   * 地址：`/journalist/login`

   * 方法：`POST`

   * 参数：

     | 参数名   | 类型   | 说明   |
     | -------- | ------ | ------ |
     | username | String | 用户名 |
     | password | String | 密码   |

   * 返回值：

     | 参数名 | 类型   | 说明 |
     | ------ | ------ | ---- |
     | token  | String | 令牌 |

### 新闻提交

1. 提交新闻

   * 地址：`/news`

   * 方法：`POST`

   * 参数：

     | 参数名  | 类型     | 说明         |
     | ------- | -------- | ------------ |
     | title   | String   | 新闻标题     |
     | content | String   | 新闻内容     |
     | time    | DateTime | 新闻编辑时间 |
     | imageId | Integer  | 图片id       |

   * 返回值：

     无

2. 修改新闻

   * 地址：`/news`

   * 方法：`PUT`

   * 参数：

     | 参数名  | 类型     | 说明         |
     | ------- | -------- | ------------ |
     | title   | String   | 新闻标题     |
     | content | String   | 新闻内容     |
     | time    | DateTime | 新闻编辑时间 |
     | imageId | Integer  | 图片id       |

   * 返回值：

     无

3. 删除新闻

   * 地址：`/news`

   * 方法：`DELETE`

   * 参数：

     | 参数名 | 类型    | 说明   |
     | ------ | ------- | ------ |
     | id     | Integer | 新闻id |
     
    * 返回值：

      无

4. 查看新闻

   * 地址：`/news/{id}`

   * 方法：`GET`

   * 参数：

     | 参数名 | 类型    | 说明   |
     | ------ | ------- | ------ |
     | id     | Integer | 新闻id |
     
   * 返回值：
   
     | 参数名        | 类型     | 说明         |
     | ------------- | -------- | ------------ |
     | title         | String   | 新闻标题     |
     | content       | String   | 新闻内容     |
     | time          | DateTime | 新闻编辑时间 |
     | imageId       | Integer  | 图片id       |
     | journalistId  | Integer  | 记者编号     |
     | reviewComment | String   | 审核意见     |
     | status        | Integer  | 新闻状态     |
   
5. 查看新闻列表

   * 地址：`/news/all/{id}`

   * 方法：`GET`

   * 参数：

     | 参数名 | 类型    | 说明   |
     | ------ | ------- | ------ |
     | id     | Integer | 记者id |

   * 返回值：

     | 参数名        | 类型     | 说明         |
     | ------------- | -------- | ------------ |
     | list | Array<{id, Journalist, time,  imageId}> | 新闻列表 |
   
6. 上传图片

   * 地址：`/image/upload`

   * 方法：`POST`

   * 参数：

     | 参数名       | 类型    | 说明     |
     | ------------ | ------- | -------- |
     | newsId       | Integer | 新闻id   |
     | journalistId | Integer | 记者id   |
     | imageUrl     | String  | 图片地址 |

   * 返回值：

     无


7. 修改图片

   * 地址：`/image`

   * 方法：`PUT`

   * 参数：

     | 参数名 | 类型    | 说明   |
     | ------ | ------- | ------ |
     | id     | Integer | 图片id |
     | imageUrl     | String  | 图片地址 |

   * 返回值：

     无


8. 删除图片

   * 地址：`/image`

   * 方法：`DELETE`

   * 参数：

     | 参数名 | 类型    | 说明   |
     | ------ | ------- | ------ |
     | id     | Integer | 新闻id |

   * 返回值：

     无
   
9. 获取图片列表

   * 地址：`/image/list`

   * 方法：`GET`

   * 参数：

     无
     
   * 返回值：

     | 参数名        | 类型     | 说明         |
     | ------------- | -------- | ------------ |
     | list         | Array<{id, imageUrl}>   | 图片列表     |

## 普通用户

### 新闻显示

1. 查看新闻列表

   * 地址：`/news/list`

   * 方法：`GET`

   * 参数：

     无
     
   * 返回值：
   
       | 参数名 | 类型                                      | 说明                                                       |
       | ------ | ----------------------------------------- | ---------------------------------------------------------- |
       | list   | Array<{id, Journalist, time,  imageId}> | 所有新闻列表（包含新闻id、所属记者、新闻题目、时间、图片） |

2. 查看新闻详情

   * 地址：`/news/detail/{id}`

   * 方法：`GET`

   * 参数：

     | 参数名 | 类型    | 说明   |
     | ------ | ------- | ------ |
     | id     | Integer | 新闻id |

   * 返回值：

     | 参数名        | 类型     | 说明         |
     | ------------- | -------- | ------------ |
     | title         | String   | 新闻标题     |
     | content       | String   | 新闻内容     |
     | time          | DateTime | 新闻编辑时间 |
     | imageId       | Integer  | 图片id       |
     | journalist    | Journalist  | 记者编号     |
